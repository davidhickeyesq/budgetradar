---
id: P027
title: Slim down page.tsx (remove all planner code)
state: TODO
execution_status: Backlog
owner: ""
branch: codex/p027-slim-dashboard
pr: ""
depends_on:
  - P026
updated_at: 2026-02-26
issue: ""
project_item: ""
epic_issue: https://github.com/davidhickeyesq/budgetradar/issues/14
spec_path: /Users/davidhickey/Documents/Projects/budgetradar/docs/execution/packets/P027-slim-dashboard.md
---

# P027: Slim Down page.tsx (Remove All Planner Code)

## Goal

Remove all scenario planner state, logic, and UI from the dashboard page. Replace
with a CTA linking to `/plan`. Reduce `page.tsx` from ~1400 to ~400 lines.

## In Scope

- Remove all scenario-related useState hooks (L336-346).
- Remove `autoGeneratedScenarioAccount` ref (L348).
- Remove auto-generation useEffect (L508-524).
- Remove scenario callbacks: generate, save, load, select, export.
- Remove `scenarioRecommendationLookup` and `nextActionSummary` useMemo.
- Remove save confirmation useEffect.
- Remove "What To Do Now" banner JSX (L886-923).
- Remove collapsible scenario planner section JSX (L949-1004).
- Remove unused imports.
- Pass `scenarioRecommendations={}` to `TrafficLightRadar`.
- Change `onScrollToPlanner` to `() => router.push('/plan')` via `useRouter`.
- Add CTA card: "Ready to optimize? → Generate a Recommended Plan" → `/plan`.
- Read channel target overrides from localStorage on mount.

## Out of Scope

- NavBar and StepIndicator changes (P028/P029).
- No backend changes.

## Files Expected to Change

- `frontend/src/app/page.tsx` (major reduction)

## Public API / Interface Changes

- None. Frontend-only restructuring.

## Implementation Plan

1. Add `useRouter` import from `next/navigation` and `Link` from `next/link`.
2. Remove all scenario state, effects, callbacks, and JSX.
3. Remove unused imports.
4. Update `TrafficLightRadar` props.
5. Add "Generate a Plan" CTA card.
6. Add localStorage read for channel target overrides.
7. Verify hot-reload compiles.

## Tests

- Hot-reload compilation with zero errors.
- Manual: dashboard renders channels without scenario overlays.
- CTA links to `/plan`.
- `grep -r 'ScenarioActionCenter' page.tsx` returns 0.

## Acceptance Criteria

- [ ] `page.tsx` ≤ 500 lines.
- [ ] No scenario state or planner code remains.
- [ ] Channel cards render without scenario overlays.
- [ ] CTA navigates to `/plan`.
- [ ] Channel target overrides from localStorage respected.

## Rollback Plan

- Restore full page.tsx from git history.
